# -
基于人脸识别技术的智能签到系统，旨在解决传统会议签到方式中存在的繁琐、耗时、易错等问题。该系统通过人脸识别技术对与会者进行身份识别，实现快速、高效、准确的签到管理。
人脸识别
会议管理系统


部署说明



重庆城市职业学院
大数据学院
2022年6月
 
目录
一	引言	3
编写目的	3
名词解释	4
二	系统部署架构	4
架构图	4
三	部署说明	5
环境要求	5
服务器资源	5
签到终端	6
服务端部署	7
服务端后台部署	7
服务端部署	14
后台部署	15
前台部署	17
客户端部署	20
四	Q&A常见问题解答	24

 
一	引言
编写目的
为方便用户熟悉人脸识别管理系统的安装部署，顺利完成系统环境的搭建而编写，主要介绍了系统运行环境要求和常用配置项。
名词解释
服务端后台：指程序的管理端后台程序，提供后台数据管理服务。程序名：maskcivet-admin.jar。
服务端前台：指程序的主web页面程序，为nginx提供的网页服务。
客户端：安装与签到终端的程序，主要提供视频数据采集和人脸识别服务。需要访问服务器后端获取模型数据和用户数据等。程序名：maskcivet-client.jar。
二	系统部署架构
架构图
 
如上图所示：本管理系统共有3个组成部分，分别是服务端后台、服务端前台以及客户端。服务端运行于服务器之上，客户端运行于普通终端PC上。
三	部署说明
环境要求
服务器资源
服务器名称	资源要求	数量（台）
服务器后台	Cpu：8核及以上；2.0GHZ以上
硬盘：500GB及以上
内存：16GB及以上
操作系统：windows server 2008及以上	1
服务器前台	Cpu：4核及以上；2.0GHZ以上
硬盘：200GB及以上
内存：4GB及以上
操作系统：windows server 2008及以上	1
数据库服务器	Cpu：8核及以上；2.0GHZ以上
硬盘：200GB及以上
内存：16GB及以上
操作系统：windows server 2008及以上	1
签到终端
名称	资源要求	数量
签到终端	Cpu：4核及以上；2.0GHZ以上
硬盘：200GB及以上
内存：8GB及以上
操作系统：windows 7及以上	N(数量由使用情况待定)

服务端部署
服务端后台部署
	数据库服务器安装部署
	数据库下载
访问https://dev.mysql.com/downloads/mysql/下载数据库软件，此处我们选择windows installer安装包下载，如图：
 
 
	数据库安装
双击下载好的安装包，执行安装，进入到安装页面
选择custom标签自定义安装，如果是测试模式可直接选择 developer default。
 
 
 
 
 
设置root密码
 
添加用户
 
完成安装
 
	创建数据库
数据库程序安装完成后，进入客户端并登录：
 
执行以下语句完成数据库创建：
create database conference charset utf8;
如下所示：
 
出现上图提示时表示数据库创建完成。
服务端部署
程序解压后有如下文件：
 
分别是服务端的后台服务和前端服务
后台部署
	JDK安装
JDK需要安装jdk1.8以上版本，具体安装步骤不在此处赘述，可自行百度安装。
安装完成后检查jdk版本如下图：
 
	配置修改：
进入后台服务的目录，内含如下文件：
	 
其中conf为配置文件目录，我们需要修改数据库连接配置，修改application.yml文件，内容如下：
 
修改url地址的将localhost：3306修改为数据库服务器的地址和端口。
修改username为数据库的账号。
修改password为对应数据库账号的密码。
	启动后台服务
执行start.bat批处理文件，当出现如下提示时表示服务器后台启动成功。
 
前台部署
前台容器为nginx，如果后台服务端与前台服务不在同一个服务器，需要修改nginx配置文件，如下图所示：
 
 
打开nginx.conf配置文件，修改prod-api的prox_pass值为服后台服务器ip地址和端口，如下图所示：
 
后台服务端口默认8080，如果没有修改，修改localhost为后台服务器ip即可。完成修改后，双击nginx启动服务即可。
 
如果启动成功，可以在任务管理器中查看是否有相应的nginx进程。当正常启动时任务管理器中可以看到相应的进程。如下图：
 
此时，我们可以访问前台服务地址进入管理页面。如下图：
 
客户端部署
	JDK安装
参照服务端JDK安装。
客户端目录下包含如下文件：
 
	客户端配置
进入conf目录，修改application.yml文件，文件内容如下所示：
 
需要修改的值：
video.roomId：该终端对应的房间编号，可以在房间管理中查看，因此在配置这个值之前，你应该添加了会议房间才可以。如下图所示：
 
将roomId修改为对应的房间编号即可。
Video.cameraId:终端的摄像头编号，如果只有一个摄像头保持为0即可，如果有多个摄像头需要根据自己的需要进行调整。这里的值可以是0,1,2等整数值表示对应的摄像头编号。
Api.model: 服务器的模型下载地址，需要将lcoalhost的值修改为实际的服务器后台地址。
Api.user: 服务器的用户信息下载地址，需要将lcaolhost的值修改为实际的服务器后台地址。
	客户端启动
当完成了以上步骤后，点击start.bat批量执行文件进行程序启动。如果配置正常，将会出现以下提示内容即为启动成功：
 
此时，在客户端打开谷歌浏览器，输入前台服务器地址，即可访问管理系统。
四	Q&A常见问题解答
Q: 前台nginx服务无法启动。
A: 一般情况下是因为nginx不能为中文目录引起，更换nginx目录为英文目录就可以解决。如果还是无法启动，需要查看logs目录下的error.log定位问题原因。
Q: 添加会议后，签到页面不能加载出会议信息。
A： 检查终端的roomId是否配置正确，程序会根据roomId匹配当前时间段的会议信息。

